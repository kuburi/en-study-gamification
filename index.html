<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì˜ì–´ ì§€ë¬¸ ì²« ë¬¸ì¥ ì¶”ë¡  ê²Œì„</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 0;
        padding: 20px;
        min-height: 100vh;
    }
    h1 {
        color: white;
        margin-bottom: 10px;
        text-align: center;
        font-size: 2.5em;
        text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        font-weight: 700;
    }
    .game-info {
        margin-bottom: 30px;
        font-size: 1.2em;
        color: rgba(255,255,255,0.9);
        background: rgba(255,255,255,0.1);
        padding: 10px 20px;
        border-radius: 25px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.2);
    }
    .game-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 700px;
    }
    .card {
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        border-radius: 20px;
        box-shadow: 
            0 20px 40px rgba(0,0,0,0.1),
            0 15px 12px rgba(0,0,0,0.08),
            inset 0 1px 0 rgba(255,255,255,0.9);
        cursor: pointer;
        perspective: 1000px;
        width: 100%;
        height: 400px;
        margin-bottom: 40px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 
            0 25px 50px rgba(0,0,0,0.15),
            0 20px 20px rgba(0,0,0,0.1),
            inset 0 1px 0 rgba(255,255,255,0.9);
    }
    .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #f5576c);
        border-radius: 20px 20px 0 0;
    }
    .card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        transition: transform 0.8s;
        transform-style: preserve-3d;
    }
    .card.is-flipped .card-inner {
        transform: rotateY(180deg);
    }
    .card-face {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 40px;
        box-sizing: border-box;
        border-radius: 20px;
    }
    .card-front {
        background: linear-gradient(135deg, #fff 0%, #f8f9ff 100%);
        border: 1px solid rgba(102, 126, 234, 0.1);
    }
    .card-back {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        transform: rotateY(180deg);
        border: 2px solid rgba(13, 110, 253, 0.2);
    }
    .card h2 {
        color: #667eea;
        margin-bottom: 25px;
        font-size: 1.4em;
        font-weight: 600;
        text-align: center;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    .card h3 {
        display: none;
    }
    .card h4 {
        color: #495057;
        margin: 30px 0 20px 0;
        font-size: 1.1em;
        font-weight: 600;
        border-top: 3px solid #e9ecef;
        padding-top: 25px;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        text-align: center;
        width: 100%;
    }
    .card p {
        font-size: 1.1em;
        line-height: 1.8;
        text-align: left;
        margin: 0 0 15px 0;
        color: #444;
        text-align: justify;
    }
    .card-front p {
        font-size: 1.3em;
        font-weight: 500;
        color: #2c3e50;
        text-align: center;
        line-height: 1.7;
        letter-spacing: 0.3px;
    }
    .card-back p:first-of-type {
        font-weight: 700;
        color: #1a1a1a;
        font-size: 1.3em;
        text-align: center;
        margin-bottom: 25px;
        background: none;
        -webkit-text-fill-color: #1a1a1a;
        padding: 15px;
        background-color: rgba(13, 110, 253, 0.08);
        border-radius: 10px;
        border-left: 4px solid #0d6efd;
    }
    #back-english {
        font-style: italic;
        color: #495057 !important;
        font-size: 1.1em !important;
        background: none !important;
        -webkit-text-fill-color: #495057 !important;
        text-align: center;
        opacity: 1;
        font-weight: 500;
        padding: 15px;
        background-color: rgba(108, 117, 125, 0.08) !important;
        border-radius: 10px;
        margin-top: 10px;
    }
    .controls {
        display: flex;
        gap: 25px;
        margin-top: 30px;
    }
    .btn {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1.1em;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 8px 20px rgba(255, 107, 107, 0.3);
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .btn:hover {
        background: linear-gradient(135deg, #ff5252 0%, #d32f2f 100%);
        transform: translateY(-2px);
        box-shadow: 0 12px 25px rgba(255, 107, 107, 0.4);
    }
    .btn:active {
        transform: translateY(0);
    }
    .btn:disabled {
        background: linear-gradient(135deg, #bbb 0%, #999 100%);
        cursor: not-allowed;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        transform: none;
        opacity: 0.6;
    }
    .shuffle-btn {
        background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
        box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
    }
    .shuffle-btn:hover {
        background: linear-gradient(135deg, #45a049 0%, #388e3c 100%);
        box-shadow: 0 12px 25px rgba(76, 175, 80, 0.4);
    }
    
    /* í”Œë¡œíŒ… ë²„íŠ¼ */
    .floating-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 8px 25px rgba(255, 152, 0, 0.4);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        z-index: 1000;
    }
    
    .floating-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 30px rgba(255, 152, 0, 0.6);
    }
    
    /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(10px);
        display: none;
        z-index: 2000;
        animation: fadeIn 0.3s ease;
    }
    
    .modal-overlay.active {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .modal-content {
        background: white;
        border-radius: 20px;
        width: 90%;
        max-width: 900px;
        max-height: 80vh;
        overflow: hidden;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        animation: slideUp 0.3s ease;
    }
    
    .modal-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px 30px;
        text-align: center;
        position: relative;
    }
    
    .modal-header h2 {
        margin: 0;
        font-size: 1.8em;
        font-weight: 700;
    }
    
    .close-btn {
        position: absolute;
        top: 20px;
        right: 25px;
        background: none;
        border: none;
        color: white;
        font-size: 30px;
        cursor: pointer;
        padding: 5px 10px;
        border-radius: 50%;
        transition: background-color 0.3s ease;
    }
    
    .close-btn:hover {
        background-color: rgba(255, 255, 255, 0.2);
    }
    
    .modal-body {
        padding: 0;
        max-height: calc(80vh - 100px);
        overflow-y: auto;
    }
    
    .passage-item {
        padding: 25px 30px;
        border-bottom: 1px solid #e9ecef;
        transition: background-color 0.2s ease;
    }
    
    .passage-item:hover {
        background-color: rgba(102, 126, 234, 0.05);
    }
    
    .passage-item:last-child {
        border-bottom: none;
    }
    
    .passage-number {
        font-size: 1.2em;
        font-weight: 700;
        color: #667eea;
        margin-bottom: 15px;
        display: inline-block;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }
    
    .passage-text {
        font-size: 1.1em;
        line-height: 1.7;
        color: #2c3e50;
        margin-bottom: 15px;
        text-align: justify;
    }
    
    .passage-inference {
        background: rgba(13, 110, 253, 0.08);
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #0d6efd;
        margin-bottom: 10px;
    }
    
    .passage-inference-title {
        font-size: 0.9em;
        font-weight: 600;
        color: #495057;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    
    .passage-inference-text {
        font-size: 1.1em;
        font-weight: 600;
        color: #1a1a1a;
        margin: 0;
    }
    
    .passage-english {
        background: rgba(108, 117, 125, 0.08);
        padding: 15px;
        border-radius: 10px;
        font-style: italic;
        color: #495057;
        font-size: 1em;
        margin: 0;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes slideUp {
        from { 
            opacity: 0;
            transform: translateY(50px);
        }
        to { 
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
    .modal-body::-webkit-scrollbar {
        width: 8px;
    }
    
    .modal-body::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }
    
    .modal-body::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 10px;
    }
    
    .modal-body::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #5a6fd8, #6a42a0);
    }
    
    /* ì¦ê²¨ì°¾ê¸° ê´€ë ¨ ìŠ¤íƒ€ì¼ */
    .favorite-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
        padding: 8px;
        border-radius: 50%;
    }
    
    .favorite-btn:hover {
        background-color: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
    }
    
    .favorite-btn.favorited {
        color: #ffd700;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }
    
    .favorite-btn.unfavorited {
        color: #999;
        text-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }
    
    .game-mode-toggle {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .mode-btn {
        background: rgba(255, 255, 255, 0.2);
        color: rgba(255, 255, 255, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 0.9em;
        font-weight: 600;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    
    .mode-btn.active {
        background: white;
        color: #667eea;
        box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
    }
    
    .mode-btn:hover:not(.active) {
        background: rgba(255, 255, 255, 0.3);
        color: white;
    }
    
    .favorite-count {
        font-size: 0.8em;
        opacity: 0.8;
        margin-left: 5px;
    }
    
    .passage-favorite-btn {
        float: right;
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        padding: 5px;
        border-radius: 50%;
        margin-left: 10px;
    }
    
    .passage-favorite-btn:hover {
        background-color: rgba(102, 126, 234, 0.1);
        transform: scale(1.1);
    }
    
    .passage-favorite-btn.favorited {
        color: #ffd700;
        text-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
    }
    
    .passage-favorite-btn.unfavorited {
        color: #999;
    }
    
    .empty-favorites {
        text-align: center;
        padding: 50px 20px;
        color: rgba(255, 255, 255, 0.7);
        font-size: 1.1em;
    }
    
    .empty-favorites-icon {
        font-size: 3em;
        margin-bottom: 15px;
        opacity: 0.5;
    }
</style>
</head>
<body>

<h1>ì˜ì–´ ì§€ë¬¸ ì²« ë¬¸ì¥ ì¶”ë¡  ê²Œì„</h1>
<div class="game-info">
    <span id="current-info">ì¹´ë“œ 1 / 30</span>
</div>

<div class="game-mode-toggle">
    <button class="mode-btn active" id="all-mode" onclick="setGameMode('all')">
        ì „ì²´ ë¬¸í•­ <span class="favorite-count" id="all-count">(30)</span>
    </button>
    <button class="mode-btn" id="favorites-mode" onclick="setGameMode('favorites')">
        ì¦ê²¨ì°¾ê¸° <span class="favorite-count" id="favorites-count">(0)</span>
    </button>
</div>

<div class="game-container">
    <div class="card" id="current-card">
        <div class="card-inner">
            <div class="card-face card-front">
                <button class="favorite-btn unfavorited" id="favorite-btn" onclick="toggleFavorite(event)">â˜…</button>
                <p id="front-text">ì²« ë¬¸ì¥ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
            <div class="card-face card-back">
                <h2 id="back-title">[ ë¬¸í•­ ë²ˆí˜¸ ]</h2>
                <p id="back-text">ì¶”ë¡  ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                <h4>English Translation</h4>
                <p id="back-english">ì˜ì–´ ë²ˆì—­ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <button class="btn" id="prev-btn" onclick="previousCard()">ì´ì „</button>
        <button class="btn" id="next-btn" onclick="nextCard()">ë‹¤ìŒ</button>
        <button class="btn shuffle-btn" onclick="shuffleCards()">ë‹¤ì‹œ ì„ê¸°</button>
    </div>
</div>

<!-- í”Œë¡œíŒ… ë²„íŠ¼ -->
<button class="floating-btn" onclick="openModal()" title="ì „ì²´ ì§€ë¬¸ ë³´ê¸°">
    ğŸ“š
</button>

<!-- ëª¨ë‹¬ -->
<div class="modal-overlay" id="modal-overlay" onclick="closeModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header">
            <h2>ì „ì²´ ì§€ë¬¸ ëª©ë¡</h2>
            <button class="close-btn" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body" id="modal-body">
            <!-- ì§€ë¬¸ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>
    </div>
</div>

<script>
    const gameData = [
        {
            "id": "5-3",
            "first_sentence": "On the one hand, the astonishing success of modern science in predicting and explaining the world seems to justify relying on it and bestowing extraordinary power to scientific institutions (especially in the form of public funding). ",
            "inference": "ê³¼í•™ì˜ ìš°ì„¸í•œ ì‚¬íšŒì  ìœ„ì¹˜ (ë¶€ì •ì )",
            "english_translation": "The dominant social status of science and its negative consequences"
        },
        {
            "id": "5-4",
            "first_sentence": "A hallmark of immigrant parents that has been found across socioeconomic groups and countries of origin is that first-generation immigrant parents place a high value on the educational achievement of their adolescent children. ",
            "inference": "ì´ë¯¼ì ë¶€ëª¨ëŠ” ìë…€ì˜ êµìœ¡ì  ì„±ì·¨ë¥¼ ì¤‘ìš”ì‹œ í•œë‹¤.",
            "english_translation": "Immigrant parents place a high value on their children's educational achievement."
        },
        {
            "id": "5-8",
            "first_sentence": "Ignacio Varchausky from the Buenos Aires tango orchestra El Arranque says in the documentary Si Sos Brujo that he and others tried learning from records how the older orchestras did what they did, but it was difficult, almost impossible. ",
            "inference": "ìŒì•… ì „ìˆ˜ëŠ” ì§ì ‘ ë³´ì—¬ì£¼ê³  ëª¨ë°©í•¨ìœ¼ë¡œì„œ ì´ë£¨ì–´ì§„ë‹¤.",
            "english_translation": "The person-to-person transmission of music through demonstration and imitation"
        },
        {
            "id": "5-9",
            "first_sentence": "Teams have many communication technologies at their disposal, ranging from email and chat platforms to web conferencing and videoconferencing. ",
            "inference": "ì˜ì‚¬ì†Œí†µ ëª©ì ì— ë”°ë¼ì„œ ì˜¬ë°”ë¥¸ ê¸°ìˆ ì„ ì„ íƒí•´ì•¼ í•œë‹¤.",
            "english_translation": "Selection of the right technologies based on the communication purpose"
        },
        {
            "id": "5-10",
            "first_sentence": "Animals regularly engage in future-oriented behaviors, from nest-building to hibernation. ",
            "inference": "ë™ë¬¼ë“¤ì˜ ë¯¸ë˜ ì§€í–¥ì  í–‰ë™ì€ ìœ ì „ì  ë³¸ëŠ¥ì´ë‹¤.",
            "english_translation": "Animals' future-oriented actions as a genetically endowed instinct"
        },
        {
            "id": "5-12",
            "first_sentence": "When Darwin developed his theory of natural selection, he imagined evolution unrolling on geological timescales: the way a glacier sculpts a valley or weather beats on a rock, so time molds one species into another. ",
            "inference": "ì§„í™”ëŠ” ì§§ì€ ê¸°ê°„ì—ë„ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤.",
            "english_translation": "Evolution that can occur over a short timescale"
        },
        {
            "id": "6-1",
            "first_sentence": "Profits are managed not only by setting a pricing strategy to maximize revenues and control costs; they are also influenced by a commitment to measure marketing performance. ",
            "inference": "ë§ˆì¼€íŒ… ì„±ê³¼ ì¸¡ì •ì€ íˆ¬ì ìˆ˜ìµë¥ ê³¼ ì´ìµì— ë„ì›€ì´ ëœë‹¤.",
            "english_translation": "Measuring marketing performance to help return on investment (ROI) and profits"
        },
        {
            "id": "6-2",
            "first_sentence": "Consider how some people, including some young children, enjoy doing jigsaw puzzles for hours. ",
            "inference": "ì™„ê²°ê°ì— ëŒ€í•œ ìœ ì•„ì˜ ìš•êµ¬",
            "english_translation": "An infant's need for a sense of completion"
        },
        {
            "id": "6-4",
            "first_sentence": "Wind plays an important role in Earth's water cycle. ",
            "inference": "ë°”ëŒê³¼ ì§€êµ¬ì˜ ë¬¼ ìˆœí™˜",
            "english_translation": "The role of wind in the planet's water cycle"
        },
        {
            "id": "6-5",
            "first_sentence": "Caregivers and others in a child's immediate surroundings affect the language being acquired by that child. ",
            "inference": "ì‚¬íšŒ ë³€í™”ë¡œ ì¸í•´ ì–¸ì–´ê°€ ë³€í™”í•˜ëŠ” ê³¼ì •",
            "english_translation": "The process of language change resulting from social change"
        },
        {
            "id": "6-9",
            "first_sentence": "There are a lot of ways for an ad to go wrong. ",
            "inference": "ê´‘ê³ ëŠ” ëª…í™•í•œ ì „ëµì´ ìˆì–´ì•¼ ì„±ê³µí•œë‹¤",
            "english_translation": "The need for a clear strategy for advertising to be successful"
        },
        {
            "id": "6-12",
            "first_sentence": "Uncertainty about what tool or procedure to use, and the risk that results are not what they appear to be, are problems common to all the scientific disciplines. ",
            "inference": "ìƒˆë¡œìš´ ê¸°ìˆ  ì ˆì°¨ì˜ ë¶ˆí™•ì‹¤ì„±ì— ëŒ€í•œ ê³¼í•™ìë“¤ì˜ íƒœë„",
            "english_translation": "Scientists' attitudes toward the uncertainty of new technical procedures"
        },
        {
            "id": "7-2",
            "first_sentence": "Using generative AI in the hiring process still has its challenges and limitations. ",
            "inference": "ì±„ìš©ì—ì„œ ìƒì„±í˜• AI ì‚¬ìš©ì˜ í•œê³„",
            "english_translation": "The limitations and risks of using Generative AI in the hiring process"
        },
        {
            "id": "7-3",
            "first_sentence": "Having asked the class a question, the average American teacher typically waits less than a second before picking a child to provide an answer â€” sending out a strong message that speed is valued over complex thinking. ",
            "inference": "ê¸°ë‹¤ë¦¼ì˜ êµìœ¡ì  ì—­í• ",
            "english_translation": "The educational role of waiting"
        },
        {
            "id": "7-4",
            "first_sentence": "There is little hope of finding high grade sources of minerals other than those we know already. ",
            "inference": "ê´‘ë¬¼ ìì› ì›ì²œ íƒì‚¬ì˜ í•œê³„",
            "english_translation": "The limitations of exploring the source of mineral resources"
        },
        {
            "id": "7-6",
            "first_sentence": "Psychiatry is often viewed as medicine's 'poor cousin', and there are good reasons for this. ",
            "inference": "ì •ì‹  ì˜í•™ì˜ ë³µì¡ì„±",
            "english_translation": "The complexity of psychiatry"
        },
        {
            "id": "7-10",
            "first_sentence": "Cambridge biologist William Hamilton studied the social behaviour of ants and wondered to himself not only why they often sacrificed themselves for their nestmates, but also how it was that sterile worker ants might have arisen, given these females don't breed but rather leave this to the queen. ",
            "inference": "ë¶ˆì„ ì¼ê°œë¯¸ê°€ ìƒê²¨ë‚œ ì´ìœ ",
            "english_translation": "The reason for the evolution of sterile worker ants"
        },
        {
            "id": "7-12",
            "first_sentence": "Most students can provide numerous examples of common sense, such as never putting a fork into an electrical outlet, not sticking your tongue on a pole covered with ice or placing your hands in boiling water, avoiding looking directly into the sun, and not attempting to attend a state dinner at the White House without an invitation. ",
            "inference": "ìƒì‹ì€ í•™ìŠµëœ ì‚¬íšŒì  ê²½í—˜ì„ í†µí•´ ì–»ê²Œ ëœë‹¤",
            "english_translation": "Common sense as something acquired through learned social experience"
        },
        {
            "id": "8-2",
            "first_sentence": "In order to better understand the dynamics of online interactions and the psychology behind group decision-making processes, consider a question that bears directly on group decisions in general: how people judge comments on websites. ",
            "inference": "ì˜¨ë¼ì¸ ë‚´ì—ì„œì˜ ì˜ê²¬ í˜•ì„±ì€ ì²« ì˜ê²¬ì— í° ì˜í–¥ì„ ë°›ëŠ”ë‹¤",
            "english_translation": "How online opinion formation is heavily influenced by the initial comments"
        },
        {
            "id": "8-3",
            "first_sentence": "We explain our world through stories. ",
            "inference": "ì´ì•¼ê¸°ë¥¼ í†µí•œ ìì‹ ì— ëŒ€í•œ ê¹Šì€ ì´í•´",
            "english_translation": "Gaining a deeper understanding of oneself through narratives"
        },
        {
            "id": "8-4",
            "first_sentence": "In one study, products to the left of center in a horizontal display were chosen only 24 percent of the time. ",
            "inference": "ìƒí’ˆ ë°°ì¹˜ê°€ ì„ íƒì— ë¼ì¹˜ëŠ” ì˜í–¥",
            "english_translation": "The influence of product placement and arrangement on consumer choice"
        },
        {
            "id": "8-6",
            "first_sentence": "While our gut may usually give us a good general sense of how the world works, it is frequently not precise. ",
            "inference": "ì„¸ìƒì— ëŒ€í•œ ì •í™•í•œ ì´í•´ë¥¼ ìœ„í•´ì„œëŠ” ë°ì´í„°ê°€ í•„ìš”í•˜ë‹¤.",
            "english_translation": "The need for data for an accurate understanding of the world"
        },
        {
            "id": "8-7",
            "first_sentence": "Designers use diagrams, pictures, and simple illustrations to explain their work, whether it is how to turn the power on or off in a machine or how to use a DNA synthesizer or even a washing machine. ",
            "inference": "ë””ìì¸ì— ìˆì–´ì„œ í…ŒìŠ¤íŠ¸ì˜ í•„ìš”ì„±",
            "english_translation": "The necessity of testing in the design process"
        },
        {
            "id": "8-8",
            "first_sentence": "It is interesting to note that all inquiries were once a part of philosophy, that great mother of the sciences (mater scientiarum), and philosophy embraced them all in an undifferentiated and amorphous fashion. ",
            "inference": "ê³¼í•™ì˜ ì² í•™ìœ¼ë¡œë¶€í„°ì˜ ë¶„ë¦¬",
            "english_translation": "The separation of science from philosophy"
        },
        {
            "id": "8-9",
            "first_sentence": "Suppose that people's aspirations rise as they get more money. ",
            "inference": "ëì—†ëŠ” ì—´ë§ì´ í–‰ë³µì„ í•´ì¹  ìˆ˜ ìˆë‹¤.",
            "english_translation": "How endless wanting can be detrimental to happiness"
        },
        {
            "id": "8-10",
            "first_sentence": "Humanity has entered a new era. ",
            "inference": "ì„¸ìƒì„ ë³€í™”ì‹œí‚¤ëŠ” ì˜ˆì¸¡ ì•Œê³ ë¦¬ì¦˜",
            "english_translation": "Predictive algorithms that are transforming our world"
        },
        {
            "id": "8-11",
            "first_sentence": "It is worth noting that the progress in man's understanding about the physical aspects of his environment occurred much earlier in comparison to the social aspects. ",
            "inference": "í™˜ê²½ì˜ ë¬¼ë¦¬ì  ì¸¡ë©´ê³¼ ì‚¬íšŒì  ì¸¡ë©´",
            "english_translation": "The physical and social dimensions of the environment"
        },
        {
            "id": "8-12",
            "first_sentence": "When computers process in time, we typically want them to also work in real time. ",
            "inference": "ìŒì•… íš¨ê³¼ ì²˜ë¦¬ê°€ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤.",
            "english_translation": "How music effects processing varies depending on the situation"
        },
        {
            "id": "9-1",
            "first_sentence": "At its most fundamental, relative brightness identifies the visual contrasts by which we live. ",
            "inference": "ë°ê¸° ëŒ€ë¹„ì˜ ì¤‘ìš”ì„±ê³¼ ê·¸ê²ƒì´ ì‹œê°ì  ì¸ì‹ì— ë¯¸ì¹˜ëŠ” ì˜í–¥",
            "english_translation": "The importance of brightness contrast and its impact on visual perception"
        },
        {
            "id": "9-4",
            "first_sentence": "Whilst some stakeholders may try to protect the integrity of arts and cultural festivals from their reconfiguration as urban policy tools, we should recognise that policy-oriented festivals can still have very positive social and cultural effects. ",
            "inference": "ì¶•ì œëŠ” ë„ì‹œ ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì „ëµì  ê°œì…ì´ë‹¤.",
            "english_translation": "How festivals can act as strategic interventions to address urban problems"
        }
    ];

    let shuffledData = [];
    let currentIndex = 0;
    let currentGameMode = 'all'; // 'all' ë˜ëŠ” 'favorites'
    let favoriteItems = new Set(); // ì¦ê²¨ì°¾ê¸°ëœ ì•„ì´í…œ IDë“¤ì„ ì €ì¥

    // ì¦ê²¨ì°¾ê¸° ë¡œë“œ (localStorageì—ì„œ)
    function loadFavorites() {
        try {
            const saved = localStorage.getItem('englishInferenceFavorites');
            if (saved) {
                const favoriteArray = JSON.parse(saved);
                favoriteItems = new Set(favoriteArray);
            }
        } catch (error) {
            console.log('localStorageë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (Claude.ai í™˜ê²½ ì œí•œ)');
            // Claude.ai artifacts í™˜ê²½ì—ì„œëŠ” localStorageê°€ ì§€ì›ë˜ì§€ ì•ŠìŒ
        }
    }

    // ì¦ê²¨ì°¾ê¸° ì €ì¥ (localStorageì—)
    function saveFavorites() {
        try {
            const favoriteArray = Array.from(favoriteItems);
            localStorage.setItem('englishInferenceFavorites', JSON.stringify(favoriteArray));
        } catch (error) {
            console.log('localStorageë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (Claude.ai í™˜ê²½ ì œí•œ)');
            // Claude.ai artifacts í™˜ê²½ì—ì„œëŠ” localStorageê°€ ì§€ì›ë˜ì§€ ì•ŠìŒ
        }
    }

    // Fisher-Yates ì…”í”Œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì§„ì •í•œ ëœë¤ ë°°ì—´ ìƒì„±
    function shuffleArray(array) {
        const shuffled = [...array];
        for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
    }

    // ì¦ê²¨ì°¾ê¸° í† ê¸€ í•¨ìˆ˜
    function toggleFavorite(event) {
        event.stopPropagation(); // ì¹´ë“œ ë’¤ì§‘ê¸° ë°©ì§€
        
        const currentData = shuffledData[currentIndex];
        const itemId = currentData.id;
        
        if (favoriteItems.has(itemId)) {
            favoriteItems.delete(itemId);
        } else {
            favoriteItems.add(itemId);
        }
        
        saveFavorites(); // ë³€ê²½ì‚¬í•­ ì €ì¥
        updateFavoriteButton();
        updateFavoriteCounts();
        
        // ì¦ê²¨ì°¾ê¸° ëª¨ë“œì—ì„œ ë§ˆì§€ë§‰ ì•„ì´í…œì„ ì¦ê²¨ì°¾ê¸° í•´ì œí•œ ê²½ìš°
        if (currentGameMode === 'favorites' && !favoriteItems.has(itemId)) {
            if (favoriteItems.size === 0) {
                // ì¦ê²¨ì°¾ê¸°ê°€ ëª¨ë‘ ì—†ì–´ì§€ë©´ ì „ì²´ ëª¨ë“œë¡œ ì „í™˜
                setGameMode('all');
            } else {
                // ë‹¤ë¥¸ ì¦ê²¨ì°¾ê¸° ì•„ì´í…œìœ¼ë¡œ ì´ë™
                setGameMode('favorites');
            }
        }
    }
    
    // ì¦ê²¨ì°¾ê¸° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
    function updateFavoriteButton() {
        const favoriteBtn = document.getElementById('favorite-btn');
        const currentData = shuffledData[currentIndex];
        
        if (favoriteItems.has(currentData.id)) {
            favoriteBtn.classList.remove('unfavorited');
            favoriteBtn.classList.add('favorited');
        } else {
            favoriteBtn.classList.remove('favorited');
            favoriteBtn.classList.add('unfavorited');
        }
    }
    
    // ì¦ê²¨ì°¾ê¸° ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
    function updateFavoriteCounts() {
        document.getElementById('all-count').textContent = `(${gameData.length})`;
        document.getElementById('favorites-count').textContent = `(${favoriteItems.size})`;
    }
    
    // ê²Œì„ ëª¨ë“œ ì„¤ì •
    function setGameMode(mode) {
        currentGameMode = mode;
        
        // ëª¨ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
        document.getElementById('all-mode').classList.toggle('active', mode === 'all');
        document.getElementById('favorites-mode').classList.toggle('active', mode === 'favorites');
        
        // ì¦ê²¨ì°¾ê¸° ëª¨ë“œì¸ë° ì¦ê²¨ì°¾ê¸°ê°€ ì—†ëŠ” ê²½ìš°
        if (mode === 'favorites' && favoriteItems.size === 0) {
            alert('ì¦ê²¨ì°¾ê¸°í•œ ë¬¸í•­ì´ ì—†ìŠµë‹ˆë‹¤. ë¬¸í•­ì„ ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€í•´ì£¼ì„¸ìš”.');
            setGameMode('all');
            return;
        }
        
        shuffleCards();
    }
    
    // í˜„ì¬ ëª¨ë“œì— ë”°ë¥¸ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    function getCurrentModeData() {
        if (currentGameMode === 'favorites') {
            return gameData.filter(item => favoriteItems.has(item.id));
        }
        return gameData;
    }

    function shuffleCards() {
        const currentData = getCurrentModeData();
        
        if (currentData.length === 0) {
            setGameMode('all');
            return;
        }
        
        shuffledData = shuffleArray(currentData);
        currentIndex = 0;
        
        // ë¨¼ì € ì¹´ë“œë¥¼ ì•ë©´ìœ¼ë¡œ ë’¤ì§‘ê¸°
        const card = document.getElementById('current-card');
        card.classList.remove('is-flipped');
        
        // ì ì‹œ í›„ ë‚´ìš© ë³€ê²½
        setTimeout(() => {
            displayCurrentCard();
            updateInfo();
            updateButtons();
        }, 150);
    }

    function displayCurrentCard() {
        const currentData = shuffledData[currentIndex];
        
        document.getElementById('front-text').textContent = currentData.first_sentence;
        document.getElementById('back-title').textContent = `[ ${currentData.id} ]`;
        document.getElementById('back-text').textContent = currentData.inference;
        document.getElementById('back-english').textContent = currentData.english_translation;
        
        updateFavoriteButton();
    }

    function updateInfo() {
        const modeText = currentGameMode === 'favorites' ? 'ì¦ê²¨ì°¾ê¸°' : 'ì „ì²´';
        document.getElementById('current-info').textContent = 
            `${modeText} ì¹´ë“œ ${currentIndex + 1} / ${shuffledData.length}`;
    }

    function updateButtons() {
        document.getElementById('prev-btn').disabled = currentIndex === 0;
        document.getElementById('next-btn').disabled = currentIndex === shuffledData.length - 1;
    }

    function nextCard() {
        if (currentIndex < shuffledData.length - 1) {
            // ë¨¼ì € ì¹´ë“œë¥¼ ì•ë©´ìœ¼ë¡œ ë’¤ì§‘ê¸°
            const card = document.getElementById('current-card');
            card.classList.remove('is-flipped');
            
            // ì ì‹œ í›„ ë‚´ìš© ë³€ê²½ (ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´)
            setTimeout(() => {
                currentIndex++;
                displayCurrentCard();
                updateInfo();
                updateButtons();
            }, 150);
        }
    }

    function previousCard() {
        if (currentIndex > 0) {
            // ë¨¼ì € ì¹´ë“œë¥¼ ì•ë©´ìœ¼ë¡œ ë’¤ì§‘ê¸°
            const card = document.getElementById('current-card');
            card.classList.remove('is-flipped');
            
            // ì ì‹œ í›„ ë‚´ìš© ë³€ê²½ (ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´)
            setTimeout(() => {
                currentIndex--;
                displayCurrentCard();
                updateInfo();
                updateButtons();
            }, 150);
        }
    }

    // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
    document.getElementById('current-card').addEventListener('click', () => {
        document.getElementById('current-card').classList.toggle('is-flipped');
    });

    // ì´ˆê¸°í™”
    loadFavorites(); // ì €ì¥ëœ ì¦ê²¨ì°¾ê¸° ë¶ˆëŸ¬ì˜¤ê¸°
    updateFavoriteCounts();
    shuffleCards();

    // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
    function openModal() {
        const modal = document.getElementById('modal-overlay');
        const modalBody = document.getElementById('modal-body');
        
        // ëª¨ë‹¬ ë‚´ìš© ìƒì„±
        modalBody.innerHTML = '';
        
        // ë¬¸í•­ë²ˆí˜¸ ìˆœìœ¼ë¡œ ì •ë ¬ (ì˜¬ë°”ë¥¸ ë°©ì‹)
        const sortedData = [...gameData].sort((a, b) => {
            const aParts = a.id.split('-').map(num => parseInt(num));
            const bParts = b.id.split('-').map(num => parseInt(num));
            
            // ì²« ë²ˆì§¸ ìˆ«ìë¡œ ë¨¼ì € ë¹„êµ (5, 6, 7, 8, 9)
            if (aParts[0] !== bParts[0]) {
                return aParts[0] - bParts[0];
            }
            // ì²« ë²ˆì§¸ ìˆ«ìê°€ ê°™ìœ¼ë©´ ë‘ ë²ˆì§¸ ìˆ«ìë¡œ ë¹„êµ (1, 2, 3, 4, 8, 9, 10, 12)
            return aParts[1] - bParts[1];
        });
        
        sortedData.forEach(item => {
            const passageItem = document.createElement('div');
            passageItem.className = 'passage-item';
            
            const isFavorited = favoriteItems.has(item.id);
            
            passageItem.innerHTML = `
                <div class="passage-number">
                    ë¬¸í•­ ${item.id}
                    <button class="passage-favorite-btn ${isFavorited ? 'favorited' : 'unfavorited'}" 
                            onclick="togglePassageFavorite('${item.id}')" title="ì¦ê²¨ì°¾ê¸°">â˜…</button>
                </div>
                <div class="passage-text">${item.first_sentence}</div>
                <div class="passage-inference">
                    <div class="passage-inference-title">ë‚´ìš© ì¶”ë¡ </div>
                    <div class="passage-inference-text">${item.inference}</div>
                </div>
                <div class="passage-english">${item.english_translation}</div>
            `;
            
            modalBody.appendChild(passageItem);
        });
        
        modal.classList.add('active');
        document.body.style.overflow = 'hidden'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
    }
    
    // ëª¨ë‹¬ì—ì„œ ì¦ê²¨ì°¾ê¸° í† ê¸€
    function togglePassageFavorite(itemId) {
        if (favoriteItems.has(itemId)) {
            favoriteItems.delete(itemId);
        } else {
            favoriteItems.add(itemId);
        }
        
        saveFavorites(); // ë³€ê²½ì‚¬í•­ ì €ì¥
        updateFavoriteCounts();
        
        // ëª¨ë‹¬ì˜ í•´ë‹¹ ë²„íŠ¼ ì—…ë°ì´íŠ¸
        const button = document.querySelector(`button[onclick="togglePassageFavorite('${itemId}')"]`);
        if (button) {
            const isFavorited = favoriteItems.has(itemId);
            button.className = `passage-favorite-btn ${isFavorited ? 'favorited' : 'unfavorited'}`;
        }
        
        // í˜„ì¬ ì¹´ë“œê°€ í•´ë‹¹ ì•„ì´í…œì´ë©´ ì¦ê²¨ì°¾ê¸° ë²„íŠ¼ë„ ì—…ë°ì´íŠ¸
        if (shuffledData[currentIndex] && shuffledData[currentIndex].id === itemId) {
            updateFavoriteButton();
        }
    }

    function closeModal(event) {
        // ì´ë²¤íŠ¸ê°€ ìˆê³ , í´ë¦­ëœ ìš”ì†Œê°€ overlayê°€ ì•„ë‹ˆë©´ ë‹«ì§€ ì•ŠìŒ
        if (event && event.target !== document.getElementById('modal-overlay')) {
            return;
        }
        
        const modal = document.getElementById('modal-overlay');
        modal.classList.remove('active');
        document.body.style.overflow = 'auto'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë³µì›
    }

    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeModal();
        }
    });
</script>

</body>
</html>
